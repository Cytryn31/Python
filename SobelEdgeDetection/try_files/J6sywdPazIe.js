/*1366841769,178142543*/

if (self.CavalryLogger) { CavalryLogger.start_js(["PeIhj"]); }

__d("ad-logging",["Arbiter","AsyncRequest","Banzai","collectDataAttributes","Parent","UFITrackingNodes"],function(a,b,c,d,e,f){var g='ssinfeed',h=b('Arbiter'),i=b('AsyncRequest'),j=b('Banzai'),k=b('collectDataAttributes'),l=b('Parent'),m=b('UFITrackingNodes'),n={};function o(r){return (r.getAttribute&&(r.getAttribute('ajaxify')||r.getAttribute('data-endpoint'))||r.action||r.href||r.name);}function p(r){var s=r.ei||r.ai;if(!s&&r.mei)s=r.mf_story_key;if(r!==null&&typeof(s)==="string"){if(r.tn){var t=r.tn.charAt(0),u=m.decodeTrackingInfo(t);if((u==m.types.LIKE_LINK)||(u==m.types.UNLIKE_LINK)||(u==m.types.COMMENT)||(u==m.types.ADD_COMMENT_BOX))return;}var v=Date.now(),w=500;r.duplicate_click=!!n[s]&&(v-n[s]<w);n[s]=v;if(j.isEnabled('ssinfeed')){j.post(g,r,{delay:0,retry:j.isEnabled('ssinfeed_retry')});}else new i('/ajax/ssinfeed/end/').setData(r).setAllowCrossPageTransition(true).setMethod('POST').send();}}function q(r,s){if(!s.node)return;var t=o(s.node),u=l.byTag(s.node,'input')||l.byTag(s.node,'button');if(!t&&u&&u.type=="submit"&&u.getAttribute&&u.getAttribute('data-ft'))t="#";var v;if(t&&s.event&&(s.event.type==='click'||s.event.type==='contextmenu')){v=k(s.node,['ft']);v.ft.href=t;v.ft.mouse_type=s.event.type;p(v.ft);}}h.subscribe("ClickRefAction/new",q);});
__d("SwapButtonDEPRECATED",["Event","Arbiter","copyProperties","CSS"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('copyProperties'),j=b('CSS');function k(l,m,n){this._swapperButton=l;this._swappeeButton=m;g.listen(l,'click',this.swap.bind(this));if(n)g.listen(m,'click',this.unswap.bind(this));h.subscribe('SwapButtonDEPRECATED/focusOnJoinButton',this.setFocusOnSwapper.bind(this),h.SUBSCRIBE_ALL);}i(k.prototype,{_swapperButton:null,_swappeeButton:null,swap:function(l){j.hide(this._swapperButton);j.show(this._swappeeButton);l!==false&&this._swappeeButton.focus();},unswap:function(l){j.show(this._swapperButton);j.hide(this._swappeeButton);l!==false&&this._swapperButton.focus();},toggle:function(){j.toggle(this._swapperButton);j.toggle(this._swappeeButton);},setFocusOnSwapper:function(){this._swapperButton.focus();}});e.exports=k;});
__d("SubscribeButton",["Arbiter","AsyncRequest","Event"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('AsyncRequest'),i=b('Event'),j={SUBSCRIBED:'FollowingUser',UNSUBSCRIBED:'UnfollowingUser',init:function(k,l,m,n,o,p){i.listen(l,'click',function(){g.inform(j.SUBSCRIBED,{profile_id:n});});g.subscribe(j.SUBSCRIBED,function(q,r){if(n===r.profile_id){if(!o)m.suppressNextMouseEnter();k.swap();if(p===true)new h().setURI('/ajax/profile/suggestions_on_following.php').setData({profileid:n}).send();}});g.subscribe(j.UNSUBSCRIBED,function(q,r){if(n===r.profile_id){k.unswap();m.hideFlyout();g.inform('SubMenu/Reset');}});},initUnsubscribe:function(k,l){i.listen(k,'click',function(){g.inform.bind(g,j.UNSUBSCRIBED,{profile_id:l}).defer();});}};e.exports=j;});
__d("Tour",["Arbiter","LayerDestroyOnHide","LayerHideOnEscape","copyProperties","NavigationMessage"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('LayerDestroyOnHide'),i=b('LayerHideOnEscape'),j=b('copyProperties'),k=b('NavigationMessage');function l(){if(l._instance)l._instance.setTourComplete();l._instance=this;}j(l.prototype,{tourStarted:false,tourComplete:false,_navigationBeginToken:null,_pageLeaveToken:null,steps:{},openDialog:null,init:function(){this._pageLeaveToken=g.subscribe('onload/exit',this.handleLeavePage.bind(this));this._navigationBeginToken=g.subscribe(k.NAVIGATION_BEGIN,this.handleTransition.bind(this));this.steps={};return this;},registerStep:function(m,n){m.disableBehavior(h);m.disableBehavior(i);this.steps[n]=m;m.subscribe('show',function(){m.inform('tour-dialog-show',m);});if(!this.getTourStarted())this.setTourStart();},_unsubscribeSubscriptions:function(){this._navigationBeginToken.unsubscribe();this._pageLeaveToken.unsubscribe();},handleLeavePage:function(){this._unsubscribeSubscriptions();},handleTransition:function(){this._unsubscribeSubscriptions();},handleTourStart:function(){},handleTourStop:function(){},handleTourComplete:function(){},showStep:function(m){var n=this.steps[m];if(!(this.openDialog==n))this.hideOpenDialog();if(!n)return;this.openDialog=n;n.show();},hideOpenDialog:function(){if(this.openDialog){this.openDialog.hide();this.openDialog=null;}},getTourStarted:function(){return this.tourStarted;},setTourStart:function(){this.tourStarted=true;this.handleTourStart();},setTourStop:function(){this.tourStarted=false;this.hideOpenDialog();this.handleTourStop();},setTourComplete:function(){if(this.tourComplete)return;this.setTourStop();this.tourComplete=true;this.handleTourComplete();},hideStep:function(m){var n=this.steps[m];n&&n.hide();}});j(l,{getInstance:function(){return l._instance||(l._instance=new l());}});e.exports=l;});
__d("PageFanning",["Animation","AsyncRequest","CSS","DOM","FutureSideNav","Parent","URI","$","copyProperties"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('AsyncRequest'),i=b('CSS'),j=b('DOM'),k=b('FutureSideNav'),l=b('Parent'),m=b('URI'),n=b('$'),o=b('copyProperties'),p={setFanStatus:function(r,s,t,u,v,w,x){v=v||function(aa){var ba=aa.getPayload();if(!ba||!r)return;if(ba.reload){p.reloadOnFanStatusChanged(ba.preserve_tab);}else q(r,ba);};var y={fbpage_id:s,add:t,reload:u};if(x!=null)o(y,x);var z=new h().setURI('/ajax/pages/fan_status.php').setData(y).setNectarModuleDataSafe(r).setHandler(v);if(w)z.setErrorHandler(w);z.send();return false;},reloadOnFanStatusChanged:function(r){var s=m.getRequestURI();if(r){var t=k.getInstance().selected.textKey;if(!s.getQueryData().sk&&t)s.addQueryData({sk:t});}window.location.href=s;},toggleLikeOnFanStatusChanged:function(r,s){var t=n('liked_pages_like_action_'+r),u=n('liked_pages_undo_action_'+r);i.conditionClass(t,'hidden_elem',s);i.conditionClass(u,'hidden_elem',!s);},informPageLikeButtonOnChange:function(r,s){var t=a.PageLikeButton;if(t)if(s){t.informLike(r);t.informLikeSuccess(r);}else t.informUnlike(r);}};function q(r,s){var t=s.feedback;if(!t)return;if(l.byClass(r,'fbTimelineEscapeSectionItem'))r=l.byClass(r,'fan_status_inactive')||r;var u=j.create('span',{className:'fan_status_inactive'},t);r.parentNode.replaceChild(u,r);var v=function(){if(s.can_repeat_action)u.parentNode.replaceChild(r,u);};new g(u).duration(3000).checkpoint().to('backgroundColor','#FFFFFF').duration(1000).ondone(v).go();}e.exports=p;});
__d("PageLikeButton",["Arbiter","AsyncRequest","AsyncResponse","Event","PageFanning","SubscribeButton","Tour","URI"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('AsyncRequest'),i=b('AsyncResponse'),j=b('Event'),k=b('PageFanning'),l=b('SubscribeButton'),m=b('Tour'),n=b('URI'),o={LIKED:'liked',UNLIKED:'unliked',LIKED_SUCCESS:'liked_success',init:function(r,s,t,u,v,w,x,y,z,aa,ba){g.subscribe(o.LIKED,function(ca,da){if(u===da.profile_id){if(!z)t.suppressNextMouseEnter();r.swap(ba);if(aa===true)new h().setURI('/ajax/pages/suggestions_on_liking.php').setData({pageid:u}).send();}});g.subscribe(o.UNLIKED,function(ca,da){if(u===da.profile_id){r.unswap(ba);t.hideFlyout();}});if(y)g.subscribe(o.LIKED_SUCCESS,function(ca,da){var ea=n.getRequestURI().getQueryData().app_data;if(da.profile_id==u)new h().setURI('/ajax/pages/fetch_app_column.php').setData({profile_id:u,tab_key:y,app_data:ea}).send();});j.listen(s,'click',q.bind(null,u,v,w,x));},initCallout:function(r,s){var t=document.getElementById('pageActionLikeCalloutButton');j.listen(t,'click',q.bind(null,r,s));},initUnlike:function(r,s,t){j.listen(r,'click',function(event){p(event.getTarget(),s,false,function(u){g.inform(o.LIKED,{profile_id:s});i.defaultErrorHandler(u);},t);o.informUnlike(s);});},informLike:function(r){var s={profile_id:r};g.inform(o.LIKED,s);g.inform(l.SUBSCRIBED,s);},informLikeSuccess:function(r){var s={profile_id:r};g.inform(o.LIKED_SUCCESS,s);},informUnlike:function(r){var s={profile_id:r};g.inform.bind(g,o.UNLIKED,s).defer();g.inform.bind(g,l.UNSUBSCRIBED,s).defer();}};function p(r,s,t,u,v,w,x){m.getInstance().hideStep('low_page_likes');k.setFanStatus(r,s,t,false,function(){o.informLikeSuccess(s);},u,{fan_origin:v,fan_source:w,cat:x});}function q(r,s,t,u,event){p(event.getTarget(),r,true,function(v){g.inform(o.UNLIKED,{profile_id:r});i.defaultErrorHandler(v);},s,t,u);o.informLike(r);}e.exports=o;a.PageLikeButton=o;});
__d("legacy:PageLikeButton",["PageLikeButton"],function(a,b,c,d){a.PageLikeButton=b('PageLikeButton');},3);
__d("StreamShareVideo",["AsyncRequest","CSS","Event","cx","ge"],function(a,b,c,d,e,f){var g=b('AsyncRequest'),h=b('CSS'),i=b('Event'),j=b('cx'),k=b('ge'),l={_endpoints:[],_thumbs:[],registerThumb:function(m,n,o,p){l._endpoints[m+' '+o]=p;l._thumbs[m+' '+o]=n;},clickTitle:function(m,n,event){return this.expandInlineOrRedirect(m,n,event);},expandInlineOrRedirect:function(m,n,event){if(l._shouldFollowHref(event))return true;var o=l._thumbs[m+' '+n],p=k(o);if(p){h.addClass(p,"uiVideoThumbLoading");g.bootstrap(l._endpoints[m+' '+n],p.parentElement);return false;}return true;},clickTimeline:function(m,n,event){if(l._shouldFollowHref(event))return true;h.addClass(m,"_1xu");h.removeClass(m,"_1xv");g.bootstrap(n,m);return false;},_shouldFollowHref:function(event){event=i.$E(event);if(!event)return false;if(event.getModifiers().any||event.isMiddleClick())return true;return false;}};e.exports=l;});
__d("legacy:stream-share-video",["StreamShareVideo"],function(a,b,c,d){a.StreamShareVideo=b('StreamShareVideo');},3);
__d("HoverButton",["AsyncRequest","CSS","DOM","URI","copyProperties","cx"],function(a,b,c,d,e,f){var g=b('AsyncRequest'),h=b('CSS'),i=b('DOM'),j=b('URI'),k=b('copyProperties'),l=b('cx');function m(n,o,p,q){this._button=n;this._flyout=o;this._flyoutAjaxify=q;this._flyoutContent=p;o.subscribe('show',this._onShow.bind(this));o.subscribe('hide',this._onHide.bind(this));}k(m.prototype,{_button:null,_flyout:null,_flyoutAjaxify:null,_flyoutContent:null,showFlyoutBriefly:function(){this.showFlyout();this._flyout.hideFlyoutDelayed(5000);},showFlyout:function(){this._flyout.showFlyout(this._button,true);this._flyout.inform('show',this._button);},hideFlyout:function(){this._flyout.hideFlyout(true);this._flyout.inform('hide',this._button);},enableButton:function(){this._flyout.initNode(this._button);},disableButton:function(){this.hideFlyout();this._flyout.deactivateNode(this._button);},_onShow:function(n,o){h.addClass(o,"_52nd");if(h.hasClass(o,'uiButton')||h.hasClass(o,"_42fu"))h.addClass(o,'selected');if(this._flyoutAjaxify){h.addClass(this._flyoutContent,'async_saving');new g().setURI(new j(this._flyoutAjaxify)).setHandler(function(p){h.removeClass(this._flyoutContent,'async_saving');i.setContent(this._flyoutContent,p.payload);}.bind(this)).send();this._flyoutAjaxify=null;}},_onHide:function(n,o){h.removeClass(o,"_52nd");if(h.hasClass(o,'uiButton')||h.hasClass(o,"_42fu"))h.removeClass(o,'selected');},destroy:function(){this.hideFlyout();this._flyout.destroy();},suppressNextMouseEnter:function(){this._flyout.setActiveNode(this._button);}});e.exports=m;});